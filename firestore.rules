/**
 * @fileoverview Firestore Security Rules for Werkself Hub.
 *
 * Core Philosophy:
 * This ruleset prioritizes ease of use, and allows all users to access all data.
 * This is not a secure production ruleset, but is meant for rapid prototyping.
 *
 * Data Structure:
 * The Firestore database contains collections for news articles, matches, players,
 * highlight reels, forum posts, users, team categories and teams. User-generated
 * content (forum posts) are stored under `/users/{userId}/forum_posts/{postId}`.
 *
 * Key Security Decisions:
 * - All reads and writes are allowed for all users. This is a deliberate choice for prototyping.
 * - No data validation is performed in the rules.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows all users to read and write news articles.
     * @path /news_articles/{newsArticleId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write news articles.
     */
    match /news_articles/{newsArticleId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write match data.
     * @path /matches/{matchId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write match data.
     */
    match /matches/{matchId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write player data.
     * @path /players/{playerId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write player data.
     */
    match /players/{playerId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write highlight reel data.
     * @path /highlight_reels/{highlightReelId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write highlight reel data.
     */
    match /highlight_reels/{highlightReelId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write forum posts under their own user ID.
     * @path /users/{userId}/forum_posts/{postId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write forum posts under their own user ID.
     */
    match /users/{userId}/forum_posts/{postId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write user data.
     * @path /users/{userId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write user data.
     */
    match /users/{userId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write team category data.
     * @path /team_categories/{categoryId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write team category data.
     */
    match /team_categories/{categoryId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows all users to read and write team data.
     * @path /teams/{teamId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny None. All operations are allowed.
     * @principle Allows all users to read and write team data.
     */
    match /teams/{teamId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}